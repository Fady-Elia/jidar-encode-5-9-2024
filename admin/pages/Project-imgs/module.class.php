<?php @eval("?>".base64_decode("PD9waHANCmlmIChzZXNzaW9uX3N0YXR1cygpID09IFBIUF9TRVNTSU9OX05PTkUpIHsNCiAgICBzZXNzaW9uX3N0YXJ0KCk7DQp9DQppbmNsdWRlX29uY2UgIi4uL2RiY29uZmlnLnBocCI7DQpjbGFzcyBNb2R1bGVDbGFzc3sNCiAgICBwcml2YXRlICRkYjsNCg0KICAgIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkNCiAgICB7DQogICAgICAgICR0aGlzLT5kYiA9IERhdGFiYXNlOjpjb25maWcoKTsNCiAgICAgIA0KICAgIH0NCiAgICBwdWJsaWMgZnVuY3Rpb24gQWRkKCAkcHJvX2lkLCRmaWxlX2luc2VydCkNCiAgICB7DQogICAgICAgIHRyeQ0KICAgICAgICB7DQoNCiAgICAgICAgICAgICRwcm89JHRoaXMtPmdldFJvd0J5SWQoJHByb19pZCk7DQogICAgICAgICAgICAkaW1ncz0kcHJvWydpbWdzJ107DQogICAgICAgICAgICAkZmlsZV9pbnNlcnQ9JGltZ3MuIiwiLiRmaWxlX2luc2VydDsNCiAgICAgICAgICAgICRmaWxlX2luc2VydCA9IGx0cmltKCRmaWxlX2luc2VydCwnLCcpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cHJlcGFyZSgidXBkYXRlICBwcm9kdWN0cyBzZXQgaW1ncz0nJGZpbGVfaW5zZXJ0JyB3aGVyZSBpZD0nJHByb19pZCcgIik7DQogICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZSgpOw0KICAgICAgICAgICAgcmV0dXJuICRzdG10Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoKFBET0V4Y2VwdGlvbiAkZSkNCiAgICAgICAgew0KICAgICAgICAgICAgZWNobyAkZS0+Z2V0TWVzc2FnZSgpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICB9DQoNCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRSb3dCeUlkKCRpZCkNCiAgICB7DQogICAgICAgIHRyeQ0KICAgICAgICB7DQogICAgICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cHJlcGFyZSgiU0VMRUNUICogRlJPTSBwcm9kdWN0cyBXSEVSRSBpZD06aWQiKTsNCgkJCSRzdG10LT5iaW5kUGFyYW0oJzppZCcsJGlkLFBETzo6UEFSQU1fSU5UKTsNCiAgICAgICAgICAgICRzdG10LT5leGVjdXRlKCk7DQogICAgICAgICAgICAkUm93ID0gJHN0bXQtPmZldGNoKFBETzo6RkVUQ0hfQVNTT0MpOw0KICAgICAgICAgICAgcmV0dXJuICRSb3c7DQoNCiAgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgY2F0Y2goUERPRXhjZXB0aW9uICRlKQ0KICAgICAgICB7DQogICAgICAgICAgICBlY2hvICRlLT5nZXRNZXNzYWdlKCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBbGxEYXRhKCRwcm9faWQpDQogICAgew0KICAgICAgICB0cnkNCiAgICAgICAgew0KDQogICAgICAgICAgICAkcmVzcG9uY2U9IGFycmF5KCk7DQogICAgICAgICAgICAkaT0wOw0KICAgICAgICAgICAgJHBybz0kdGhpcy0+Z2V0Um93QnlJZCgkcHJvX2lkKTsNCiAgICAgICAgICAgICRpbWdzPSRwcm9bJ2ltZ3MnXTsNCiAgICAgICAgICAgICRpbWdzX2FycmF5PWV4cGxvZGUoJywnLCRpbWdzKTsNCg0KICAgICAgICAgICAgZm9yZWFjaCAoJGltZ3NfYXJyYXkgYXMgJGFycil7DQogICAgICAgICAgICAgICANCiAgDQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICRzbGlkZWltYWdlPSRhcnI7DQogICAgICAgICAgICAgICAgJGltZz0nPGltZyBzdHlsZT0iaGVpZ2h0OiA3NXB4OyIgc3JjPSIuLi8uLi8uLi91cGxvYWRzLycuJHNsaWRlaW1hZ2UuJyIgYWx0PSIiIHdpZHRoPSIxNTBweCIgaGlnaHQ9IjE1MHB4Ii8+JzsNCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICRkZWxldGVSb3c9JzxhIG9uY2xpY2s9ImRlbGV0ZV9kYXRhKFwnJy4kYXJyLidcJywnLiRwcm9faWQuJykiIGhyZWY9IiMiIGNsYXNzPSJkZWxldGUiPjxpIGNsYXNzPSJpY29uLXRyYXNoIGJpZ2dlci0xMzAiPjwvaT48L2E+JzsNCiAgICAgICAgICAgICAgICAkcmVzcG9uY2VbXT1hcnJheSggJGkrMSwkaW1nLCRkZWxldGVSb3cpOw0KICAgICAgICAgICAgICAgICRpKys7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICRyZXN1bHRzID0gWyJzRWNobyIgPT4gMSwNCiAgICAgICAgCSJpVG90YWxSZWNvcmRzIiA9PiBjb3VudCgkcmVzcG9uY2UpLA0KICAgICAgICAJImlUb3RhbERpc3BsYXlSZWNvcmRzIiA9PiBjb3VudCgkcmVzcG9uY2UpLA0KICAgICAgICAJImFhRGF0YSIgPT4gJHJlc3BvbmNlIF07DQogICAgICAgICAgICByZXR1cm4gJHJlc3VsdHM7DQogICAgICAgIA0KICAgICAgICB9DQogICAgICAgIGNhdGNoKFBET0V4Y2VwdGlvbiAkZSkNCiAgICAgICAgew0KICAgICAgICAgICAgZWNobyAkZS0+Z2V0TWVzc2FnZSgpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICB9DQoNCiAgIA0KICAgIHB1YmxpYyBmdW5jdGlvbiBEZWxldGUoJGFjdElkLCRwcm9faWQpew0KICAgICAgICB0cnl7DQogICAgICAgICAgICAkcHJvPSR0aGlzLT5nZXRSb3dCeUlkKCRwcm9faWQpOw0KICAgICAgICAgICAgJGltZ3M9JHByb1snaW1ncyddOw0KICAgICAgICAgICAgJGZpbGVfaW5zZXJ0PXN0cl9yZXBsYWNlKCIsIi4kYWN0SWQsICIiLCAkaW1ncyk7DQogICAgICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cHJlcGFyZSgidXBkYXRlICBwcm9kdWN0cyBzZXQgaW1ncz0nJGZpbGVfaW5zZXJ0JyB3aGVyZSBpZD0nJHByb19pZCcgIik7DQogICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZSgpOw0KICAgICAgICAgICAgcmV0dXJuICRzdG10Ow0KICAgICAgICB9Y2F0Y2goUERPRXhjZXB0aW9uICRlKQ0KICAgICAgICB7DQogICAgICAgICAgICBlY2hvICRlLT5nZXRNZXNzYWdlKCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCj8+"));