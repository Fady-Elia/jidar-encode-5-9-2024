<?php @eval("?>".base64_decode("PD9waHANCmlmIChzZXNzaW9uX3N0YXR1cygpID09IFBIUF9TRVNTSU9OX05PTkUpIHsNCiAgICBzZXNzaW9uX3N0YXJ0KCk7DQp9DQppbmNsdWRlX29uY2UgIi4uL2RiY29uZmlnLnBocCI7DQpjbGFzcyBNb2R1bGVDbGFzc3sNCiAgICBwcml2YXRlICRkYjsNCg0KICAgIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkNCiAgICB7DQogICAgICAgICR0aGlzLT5kYiA9IERhdGFiYXNlOjpjb25maWcoKTsNCiAgICAgIA0KICAgIH0NCiANCg0KDQogICAgcHVibGljIGZ1bmN0aW9uIGdldFJvd0J5SWQoJGlkKQ0KICAgIHsNCiAgICAgICAgdHJ5DQogICAgICAgIHsNCiAgICAgICAgICAgICRzdG10ID0gJHRoaXMtPmRiLT5wcmVwYXJlKCJTRUxFQ1QgKiBGUk9NIHdoeV91cyBXSEVSRSBpZD06aWQiKTsNCgkJCSRzdG10LT5iaW5kUGFyYW0oJzppZCcsJGlkLFBETzo6UEFSQU1fSU5UKTsNCiAgICAgICAgICAgICRzdG10LT5leGVjdXRlKCk7DQogICAgICAgICAgICAkUm93ID0gJHN0bXQtPmZldGNoKFBETzo6RkVUQ0hfQVNTT0MpOw0KICAgICAgICAgICAgcmV0dXJuICRSb3c7DQoNCiAgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgY2F0Y2goUERPRXhjZXB0aW9uICRlKQ0KICAgICAgICB7DQogICAgICAgICAgICBlY2hvICRlLT5nZXRNZXNzYWdlKCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgIH0NCiAgDQogICAgcHVibGljIGZ1bmN0aW9uIGdldEFsbERhdGEoKQ0KICAgIHsNCiAgICAgICAgdHJ5DQogICAgICAgIHsNCg0KICAgICAgICAgICAgJHJlc3BvbmNlPSBhcnJheSgpOw0KICAgICAgICAgICAgJGk9MDsNCiAgICAgICAgICAgICRzdG10ID0gJHRoaXMtPmRiLT5wcmVwYXJlKCJzZWxlY3QgKiBmcm9tIHdoeV91cw0KICAgICAgICAgICAgIG9yZGVyIGJ5ICBpZCBkZXNjIik7DQoJCQkNCiAgICAgICAgICAgICRzdG10LT5leGVjdXRlKCk7DQoNCiAgICAgICAgICAgIHdoaWxlKCRyb3c9JHN0bXQtPmZldGNoKFBETzo6RkVUQ0hfQVNTT0MpKXsNCiAgICAgICAgICAgICAgICAkc2xpZGVfaWQ9JHJvd1snaWQnXTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICR0aXRsZV9hcj0kcm93Wyd0aXRsZV9hciddOw0KICAgICAgICAgICAgICAgICR0aXRsZV9lbj0kcm93Wyd0aXRsZV9lbiddOw0KICAgICAgDQogICAgICAgICAgICAgICAgJGRlc2NfYXI9JHJvd1snZGVzY19hciddOw0KICAgICAgICAgICAgICAgICRkZXNjX2VuPSRyb3dbJ2Rlc2NfZW4nXTsNCiAgICAgICAgIA0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICRlZGl0Um93PSc8YSBvbmNsaWNrPSJnZXREYXRhKCcuJHNsaWRlX2lkLicpIiBocmVmPSIjIj48aSBjbGFzcz0iaWNvbi1lZGl0IGJpZ2dlci0xMzAiPjwvaT48L2E+JzsNCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJHJlc3BvbmNlW109YXJyYXkoICRpKzEsJHRpdGxlX2FyLCR0aXRsZV9lbiwkZGVzY19hciwkZGVzY19lbiwkZWRpdFJvdyk7DQogICAgICAgICAgICAgICAgJGkrKzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJHJlc3VsdHMgPSBbInNFY2hvIiA9PiAxLA0KICAgICAgICAJImlUb3RhbFJlY29yZHMiID0+IGNvdW50KCRyZXNwb25jZSksDQogICAgICAgIAkiaVRvdGFsRGlzcGxheVJlY29yZHMiID0+IGNvdW50KCRyZXNwb25jZSksDQogICAgICAgIAkiYWFEYXRhIiA9PiAkcmVzcG9uY2UgXTsNCiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0czsNCiAgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgY2F0Y2goUERPRXhjZXB0aW9uICRlKQ0KICAgICAgICB7DQogICAgICAgICAgICBlY2hvICRlLT5nZXRNZXNzYWdlKCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiB1cGRhdGVEYXRhKCRlZGl0X2lkLCR0aXRsZV9hciwkdGl0bGVfZW4sICAkZGVzY19lbiwgICRkZXNjX2FyKQ0KICAgIHsNCiAgICAgICAgdHJ5DQogICAgICAgIHsNCiANCiAgICAgIA0KICAgICAgICANCiAgICAgICAgICAgICRxdWVyeT0idXBkYXRlIHdoeV91cyBzZXQgIHRpdGxlX2FyPSckdGl0bGVfYXInLHRpdGxlX2VuPSckdGl0bGVfZW4nLA0KICAgICAgICAgICANCiAgICAgICAgICAgIGRlc2NfYXI9JyRkZXNjX2FyJyxkZXNjX2VuPSckZGVzY19lbicNCiAgICAgICAgICAgIHdoZXJlIGlkPSRlZGl0X2lkIjsNCiAgICAgICAgICAgDQogICAgICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cHJlcGFyZSgkcXVlcnkpOw0KICAgICAgICAgICAgJHN0bXQtPmV4ZWN1dGUoKTsNCiAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgICByZXR1cm4gICRzdG10Ow0KICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICBjYXRjaChQRE9FeGNlcHRpb24gJGUpDQogICAgICAgIHsNCiAgICAgICAgICAgIGVjaG8gJGUtPmdldE1lc3NhZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQogICAgDQoNCg0KIA0KfQ0KDQo/Pg=="));