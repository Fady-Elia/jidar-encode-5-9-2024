<?php @eval("?>".base64_decode("PD9waHANCmlmIChzZXNzaW9uX3N0YXR1cygpID09IFBIUF9TRVNTSU9OX05PTkUpIHsNCiAgICBzZXNzaW9uX3N0YXJ0KCk7DQp9DQppbmNsdWRlX29uY2UgIi4uL2RiY29uZmlnLnBocCI7DQpjbGFzcyBNb2R1bGVDbGFzc3sNCiAgICBwcml2YXRlICRkYjsNCg0KICAgIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkNCiAgICB7DQogICAgICAgICR0aGlzLT5kYiA9IERhdGFiYXNlOjpjb25maWcoKTsNCiAgICAgIA0KICAgIH0NCiAgICBwdWJsaWMgZnVuY3Rpb24gQWRkKCRhZGRyZXNzX2FyLCRhZGRyZXNzX2VuLCRlbWFpbCwkcGhvbmVfbnVtLCRmYWNlYm9va3UsJHR3aXR0ZXJ1LCR5b3V0dWJldSwkaW5zdGEsDQogICAgJGFib3V0X2RhdGFfYXIsJGFib3V0X2RhdGFfZW4sJGZpbGVfaW5zZXJ0MiwkbGF0dSwkbG5ndSkNCiAgICB7DQogICAgICAgIHRyeQ0KICAgICAgICB7DQogICAgICAgICAgICAkZGF0YT0kdGhpcy0+Z2V0Um93QnlJZCgpOw0KICAgICAgICAgICAgaWYoZW1wdHkoJGRhdGEpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgDQoNCiAgICAgICAgICAgICAgICAkbG9nb2hlYWQyPWVtcHR5KCRmaWxlX2luc2VydDIpPyIiOiIsYWJvdXRfaW1hZ2UiOw0KICAgICAgICAgICAgICAgICRsb2dvdmFsMj1lbXB0eSgkZmlsZV9pbnNlcnQyKT8iIjoiLCckZmlsZV9pbnNlcnQyJyI7DQoNCg0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAkcXVlcnkgPSAiaW5zZXJ0IGludG8gIHdlYnNpdGVfZGF0YQ0KICAgICAgICAgICAgKGFib3V0X2VuLGFib3V0X2FyLA0KICAgICAgICAgICAgYWRkcmVzc19lbixhZGRyZXNzX2FyLA0KICAgICAgICAgICAgcGhvbmVfbnVtYmVyLGVtYWlsLGZhY2Vib29rLHR3aXR0ZXIseW91dHViZSxpbnN0YSxtYXBfbGF0LG1hcF9sbmcNCiAgICAgICAgICAgICRsb2dvaGVhZDIgKQ0KICAgICAgICAgICAgdmFsdWVzDQogICAgICAgICAgICAoJyRhYm91dF9kYXRhX2VuJywnJGFib3V0X2RhdGFfYXInLA0KICAgICAgICAgICAgJyRhZGRyZXNzX2VuJywnJGFkZHJlc3NfYXInLA0KICAgICAgICAgICAgJyRwaG9uZV9udW0nLCckZW1haWwnLCckZmFjZWJvb2t1JywnJHR3aXR0ZXJ1JywnJHlvdXR1YmV1JywnJGluc3RhJywnJGxhdHUnLCckbG5ndScgJGxvZ292YWwyICkiOw0KICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCg0KICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJGxvZ28yPWVtcHR5KCRmaWxlX2luc2VydDIpPyIiOiIsYWJvdXRfaW1hZ2U9JyRmaWxlX2luc2VydDInIjsNCiAgICAgICAgICAgICAgDQoNCiAgICAgICAgICAgICAgICAkcXVlcnk9InVwZGF0ZSB3ZWJzaXRlX2RhdGEgc2V0DQogICAgICAgICAgICAgICAgYWJvdXRfZW49JyRhYm91dF9kYXRhX2VuJyxhYm91dF9hcj0nJGFib3V0X2RhdGFfYXInLA0KICAgICAgICAgICAgICAgIGFkZHJlc3NfZW49JyRhZGRyZXNzX2VuJyxhZGRyZXNzX2FyPSckYWRkcmVzc19hcicsDQogICAgICAgICAgICAgICAgcGhvbmVfbnVtYmVyPSckcGhvbmVfbnVtJyxlbWFpbD0nJGVtYWlsJyxmYWNlYm9vaz0nJGZhY2Vib29rdScsdHdpdHRlcj0nJHR3aXR0ZXJ1Jyx5b3V0dWJlPSckeW91dHViZXUnLGluc3RhPSckaW5zdGEnLG1hcF9sYXQ9JyRsYXR1JyxtYXBfbG5nPSckbG5ndScNCiAgICAgICAgICAgICAgICRsb2dvMiAgIjsNCiAgICAgICAgICAgIA0KICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cHJlcGFyZSgkcXVlcnkpOw0KICAgICAgICAgICAgJHN0bXQtPmV4ZWN1dGUoKTsNCiAgICAgICAgICAgIHJldHVybiAkc3RtdDsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaChQRE9FeGNlcHRpb24gJGUpDQogICAgICAgIHsNCiAgICAgICAgICAgIGVjaG8gJGUtPmdldE1lc3NhZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Um93QnlJZCgpDQogICAgew0KICAgICAgICB0cnkNCiAgICAgICAgew0KICAgICAgICAgICAgJHN0bXQgPSAkdGhpcy0+ZGItPnByZXBhcmUoIlNFTEVDVCAqIEZST00gd2Vic2l0ZV9kYXRhIGxpbWl0IDEiKTsNCgkJCSRzdG10LT5iaW5kUGFyYW0oJzppZCcsJGlkLFBETzo6UEFSQU1fSU5UKTsNCiAgICAgICAgICAgICRzdG10LT5leGVjdXRlKCk7DQogICAgICAgICAgICAkUm93ID0gJHN0bXQtPmZldGNoKFBETzo6RkVUQ0hfQVNTT0MpOw0KICAgICAgICAgICAgcmV0dXJuICRSb3c7DQoNCiAgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgY2F0Y2goUERPRXhjZXB0aW9uICRlKQ0KICAgICAgICB7DQogICAgICAgICAgICBlY2hvICRlLT5nZXRNZXNzYWdlKCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgIH0NCg0KIA0KDQogICAgcHVibGljIGZ1bmN0aW9uIHVwZGF0ZURhdGEoJGVkaXRfaWQsJHRpdGxlX2FyLCR0aXRsZV9lbiwkZGV0YWlsc2FyLCRkZXRhaWxzZW4pDQogICAgew0KICAgICAgICB0cnkNCiAgICAgICAgew0KDQoNCiAgICAgICAgICAgICRxdWVyeT0idXBkYXRlIGFib3V0X3VzIHNldCBhYm91dF9hcj0nJHRpdGxlX2FyJyxhYm91dF9lbj0nJHRpdGxlX2VuJyxhYm91dF9kZXRhaWxzX2FyPSckZGV0YWlsc2FyJyxhYm91dF9kZXRhaWxzX2VuPSckZGV0YWlsc2VuJyB3aGVyZSBpZD0kZWRpdF9pZCI7DQogICAgICAgICAgICANCiAgICAgICAgICAgICRzdG10ID0gJHRoaXMtPmRiLT5wcmVwYXJlKCRxdWVyeSk7DQogICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZSgpOw0KICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgIHJldHVybiAgJHN0bXQ7DQogICAgICAgIA0KICAgICAgICB9DQogICAgICAgIGNhdGNoKFBET0V4Y2VwdGlvbiAkZSkNCiAgICAgICAgew0KICAgICAgICAgICAgZWNobyAkZS0+Z2V0TWVzc2FnZSgpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gRGVsZXRlKCRhY3RJZCl7DQogICAgICAgIHRyeXsNCiAgICAgICAgICAgICRzdG10ID0gJHRoaXMtPmRiLT5wcmVwYXJlKCJERUxFVEUgRlJPTSBhYm91dF91cyBXSEVSRSBpZD06aWQiKTsNCiAgICAgICAgICAgICRzdG10LT5iaW5kUGFyYW0oJzppZCcsJGFjdElkLFBETzo6UEFSQU1fSU5UKTsNCiAgICAgICAgICAgICRzdG10LT5leGVjdXRlKCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfWNhdGNoKFBET0V4Y2VwdGlvbiAkZSkNCiAgICAgICAgew0KICAgICAgICAgICAgZWNobyAkZS0+Z2V0TWVzc2FnZSgpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQo/Pg=="));