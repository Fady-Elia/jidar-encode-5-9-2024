<?php @eval("?>".base64_decode("PD9waHANCmlmIChzZXNzaW9uX3N0YXR1cygpID09IFBIUF9TRVNTSU9OX05PTkUpIHsNCiAgICBzZXNzaW9uX3N0YXJ0KCk7DQp9DQppbmNsdWRlX29uY2UgIi4uL2RiY29uZmlnLnBocCI7DQpjbGFzcyBNb2R1bGVDbGFzc3sNCiAgICBwcml2YXRlICRkYjsNCg0KICAgIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkNCiAgICB7DQogICAgICAgICR0aGlzLT5kYiA9IERhdGFiYXNlOjpjb25maWcoKTsNCiAgICAgIA0KICAgIH0NCiAgICBwdWJsaWMgZnVuY3Rpb24gQWRkKCR0aXRsZV9hciwkdGl0bGVfZW4sJGRldGFpbHNhciwkZGV0YWlsc2VuLCRmaWxlX2luc2VydCwkY2F0X2lkKQ0KICAgIHsNCiAgICAgICAgdHJ5DQogICAgICAgIHsNCg0KICAgICAgICAgICAgJHN0bXQgPSAkdGhpcy0+ZGItPnByZXBhcmUoImluc2VydCBpbnRvIHByb2R1Y3RzKGlkLGNhdF9pZCxpbWcsbmFtZV9hcixuYW1lX2VuLGRlc2NfZW4sZGVzY19hcixpbWdzKSB2YWx1ZXMobnVsbCwnJGNhdF9pZCcsJyRmaWxlX2luc2VydCcsJyR0aXRsZV9hcicsJyR0aXRsZV9lbicsJyRkZXRhaWxzZW4nLCckZGV0YWlsc2FyJyxudWxsKSIpOw0KICAgICAgICAgICAgJHN0bXQtPmV4ZWN1dGUoKTsNCiAgICAgICAgICAgIHJldHVybiAkc3RtdDsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaChQRE9FeGNlcHRpb24gJGUpDQogICAgICAgIHsNCiAgICAgICAgICAgIGVjaG8gJGUtPmdldE1lc3NhZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Um93QnlJZCgkaWQpDQogICAgew0KICAgICAgICB0cnkNCiAgICAgICAgew0KICAgICAgICAgICAgJHN0bXQgPSAkdGhpcy0+ZGItPnByZXBhcmUoIlNFTEVDVCAqIEZST00gcHJvZHVjdHMgV0hFUkUgaWQ9OmlkIik7DQoJCQkkc3RtdC0+YmluZFBhcmFtKCc6aWQnLCRpZCxQRE86OlBBUkFNX0lOVCk7DQogICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZSgpOw0KICAgICAgICAgICAgJFJvdyA9ICRzdG10LT5mZXRjaChQRE86OkZFVENIX0FTU09DKTsNCiAgICAgICAgICAgIHJldHVybiAkUm93Ow0KDQogICAgICAgIA0KICAgICAgICB9DQogICAgICAgIGNhdGNoKFBET0V4Y2VwdGlvbiAkZSkNCiAgICAgICAgew0KICAgICAgICAgICAgZWNobyAkZS0+Z2V0TWVzc2FnZSgpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QWxsRGF0YSgpDQogICAgew0KICAgICAgICB0cnkNCiAgICAgICAgew0KDQogICAgICAgICAgICAkcmVzcG9uY2U9IGFycmF5KCk7DQogICAgICAgICAgICAkaT0wOw0KICAgICAgICAgICAgJHN0bXQgPSAkdGhpcy0+ZGItPnByZXBhcmUoInNlbGVjdCBwcm9kdWN0cy4qLGNhdGVnb3JpZXMubmFtZV9hciBhcyBjYXQgZnJvbSBwcm9kdWN0cyBsZWZ0IGpvaW4gY2F0ZWdvcmllcyBvbiBwcm9kdWN0cy5jYXRfaWQ9Y2F0ZWdvcmllcy5pZCBvcmRlciBieSBpZCBkZXNjIik7DQoJDQogICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZSgpOw0KDQogICAgICAgICAgICB3aGlsZSgkcm93PSRzdG10LT5mZXRjaChQRE86OkZFVENIX0FTU09DKSl7DQogICAgICAgICAgICAgICAgJHNsaWRlX2lkPSRyb3dbJ2lkJ107DQogICAgICAgICAgICAgICAgJHRpdGxlX2FyPSRyb3dbJ25hbWVfYXInXTsNCiAgICAgICAgICAgICAgICAkdGl0bGVfZW49JHJvd1snbmFtZV9lbiddOw0KICAgICAgICAgICAgICAgICRjYXRfaWQ9JHJvd1snY2F0J107DQogICAgICAgICAgICAgICAgJGRldGFpbHNfYXI9IHN1YnN0cigkcm93WydkZXNjX2FyJ10sIDAsIDEwMCkuIi4uLi4iOyANCiAgICAgICAgICAgICAgICAkZGV0YWlsc19lbj1zdWJzdHIoJHJvd1snZGVzY19lbiddLCAwLCAxMDApLiIuLi4uIjsgIA0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJHNsaWRlaW1hZ2U9JHJvd1snaW1nJ107DQogICAgICAgICAgICAgICAgJGltZz0nPGltZyBzdHlsZT0iaGVpZ2h0OiA3NXB4OyIgc3JjPSIuLi8uLi8uLi91cGxvYWRzLycuJHNsaWRlaW1hZ2UuJyIgYWx0PSIiIHdpZHRoPSIxNTBweCIgaGlnaHQ9IjE1MHB4Ii8+JzsNCiAgICAgICAgICAgICAgICAkZWRpdFJvdz0nPGEgb25jbGljaz0iZ2V0RGF0YSgnLiRzbGlkZV9pZC4nKSIgaHJlZj0iIyI+PGkgY2xhc3M9Imljb24tZWRpdCBiaWdnZXItMTMwIj48L2k+PC9hPic7DQogICAgICAgICAgICAgICAgJGRlbGV0ZVJvdz0nPGEgb25jbGljaz0iZGVsZXRlX2RhdGEoJy4kc2xpZGVfaWQuJykiIGhyZWY9IiMiIGNsYXNzPSJkZWxldGUiPjxpIGNsYXNzPSJpY29uLXRyYXNoIGJpZ2dlci0xMzAiPjwvaT48L2E+JzsNCiAgICAgICAgICAgICAgICAkaW1ncz0nPGEgIGhyZWY9Ii4uL1Byb2plY3QtaW1ncy8/aWQ9Jy4kc2xpZGVfaWQuJyIgY2xhc3M9ImRlbGV0ZSI+2LXZiNixINin2YTZhdmG2KrYrDwvYT4nOw0KICAgICAgICAgICAgICAgICRyZXNwb25jZVtdPWFycmF5KCAkaSsxLCRpbWcsJHRpdGxlX2FyLCR0aXRsZV9lbiwkZGV0YWlsc19hciwkZGV0YWlsc19lbiwkY2F0X2lkLCAkaW1ncywkZWRpdFJvdywkZGVsZXRlUm93KTsNCiAgICAgICAgICAgICAgICAkaSsrOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAkcmVzdWx0cyA9IFsic0VjaG8iID0+IDEsDQogICAgICAgIAkiaVRvdGFsUmVjb3JkcyIgPT4gY291bnQoJHJlc3BvbmNlKSwNCiAgICAgICAgCSJpVG90YWxEaXNwbGF5UmVjb3JkcyIgPT4gY291bnQoJHJlc3BvbmNlKSwNCiAgICAgICAgCSJhYURhdGEiID0+ICRyZXNwb25jZSBdOw0KICAgICAgICAgICAgcmV0dXJuICRyZXN1bHRzOw0KICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICBjYXRjaChQRE9FeGNlcHRpb24gJGUpDQogICAgICAgIHsNCiAgICAgICAgICAgIGVjaG8gJGUtPmdldE1lc3NhZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIHVwZGF0ZURhdGEoJHR5LCRlZGl0X2lkLCR0aXRsZV9hciwkdGl0bGVfZW4sJGRldGFpbHNhciwkZGV0YWlsc2VuLCRmaWxlX2luc2VydCwkY2F0X2lkKQ0KICAgIHsNCiAgICAgICAgdHJ5DQogICAgICAgIHsNCg0KDQogICAgICAgICAgICBpZigkdHk9PTEpew0KICAgICAgICAgICAgJHF1ZXJ5PSJ1cGRhdGUgIHByb2R1Y3RzIHNldCBuYW1lX2FyPSckdGl0bGVfYXInLG5hbWVfZW49JyR0aXRsZV9lbicsZGVzY19hcj0nJGRldGFpbHNhcicsZGVzY19lbj0nJGRldGFpbHNlbicsaW1nPSckZmlsZV9pbnNlcnQnLGNhdF9pZD0nJGNhdF9pZCcgd2hlcmUgaWQ9JyRlZGl0X2lkJyAiOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAkcXVlcnk9InVwZGF0ZSAgcHJvZHVjdHMgc2V0IG5hbWVfYXI9JyR0aXRsZV9hcicsbmFtZV9lbj0nJHRpdGxlX2VuJyxkZXNjX2FyPSckZGV0YWlsc2FyJyxkZXNjX2VuPSckZGV0YWlsc2VuJyxjYXRfaWQ9JyRjYXRfaWQnIHdoZXJlIGlkPSckZWRpdF9pZCcgIjsNCiAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cHJlcGFyZSgkcXVlcnkpOw0KICAgICAgICAgICAgJHN0bXQtPmV4ZWN1dGUoKTsNCiAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgICByZXR1cm4gICRzdG10Ow0KICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICBjYXRjaChQRE9FeGNlcHRpb24gJGUpDQogICAgICAgIHsNCiAgICAgICAgICAgIGVjaG8gJGUtPmdldE1lc3NhZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIERlbGV0ZSgkYWN0SWQpew0KICAgICAgICB0cnl7DQogICAgICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cHJlcGFyZSgiREVMRVRFIEZST00gcHJvZHVjdHMgV0hFUkUgaWQ9OmlkIik7DQogICAgICAgICAgICAkc3RtdC0+YmluZFBhcmFtKCc6aWQnLCRhY3RJZCxQRE86OlBBUkFNX0lOVCk7DQogICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZSgpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH1jYXRjaChQRE9FeGNlcHRpb24gJGUpDQogICAgICAgIHsNCiAgICAgICAgICAgIGVjaG8gJGUtPmdldE1lc3NhZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KPz4="));